(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["goods"],{"08fc":function(t,e,a){var r=a("e1de"),n=a("329d"),o=a("5f2a"),i=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:i},{from:n})},"0ef9":function(t,e,a){"use strict";a("6dbb");var r=a("d546"),n=a("ddc4"),o=a("a299"),i=a("655b"),s=a("0056"),l=i("species"),c=RegExp.prototype,u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),f=i("replace"),p=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),m=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,f){var g=i(t),b=!o((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),v=b&&!o((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[g]=/./[g]),a.exec=function(){return e=!0,null},a[g](""),!e}));if(!b||!v||"replace"===t&&(!u||!d||p)||"split"===t&&!m){var h=/./[g],y=a(g,""[t],(function(t,e,a,r,o){var i=e.exec;return i===n||i===c.exec?b&&!o?{done:!0,value:h.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),_=y[0],x=y[1];r(String.prototype,t,_),r(c,g,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}f&&s(c[g],"sham",!0)}},"11d4":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addGoods_container"},[a("bread",{attrs:{first:"商品管理",second:"添加商品"}}),a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":""}}),a("el-steps",{attrs:{space:200,active:t.active-0,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"基本信息"}}),a("el-step",{attrs:{title:"商品参数"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"商品图片"}}),a("el-step",{attrs:{title:"商品内容"}}),a("el-step",{attrs:{title:"完成"}})],1),[a("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left","before-leave":t.leaveTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[a("el-form",{ref:"goodsForm",staticClass:"demo-ruleForm",attrs:{model:t.goodsForm,rules:t.rules}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{model:{value:t.goodsForm.goods_name,callback:function(e){t.$set(t.goodsForm,"goods_name",e)},expression:"goodsForm.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"goods_price"}},[a("el-input",{model:{value:t.goodsForm.goods_price,callback:function(e){t.$set(t.goodsForm,"goods_price",e)},expression:"goodsForm.goods_price"}})],1),a("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[a("el-input",{model:{value:t.goodsForm.goods_weight,callback:function(e){t.$set(t.goodsForm,"goods_weight",e)},expression:"goodsForm.goods_weight"}})],1),a("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[a("el-input",{model:{value:t.goodsForm.goods_number,callback:function(e){t.$set(t.goodsForm,"goods_number",e)},expression:"goodsForm.goods_number"}})],1),a("el-form-item",{attrs:{label:"商品分类"}},[a("el-cascader",{attrs:{options:t.options,props:t.setOptions,clearable:"",filterable:""},on:{change:t.change},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},[a("ul",t._l(t.manyTable,(function(e,r){return a("li",{key:r},t._l(e.attr_vals,(function(e,r){return a("el-checkbox",{key:r,staticStyle:{margin:"5px"},attrs:{border:"",checked:""}},[t._v(t._s(e))])})),1)})),0)]),a("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.goodsForm}},t._l(t.onlyTable,(function(e,r){return a("el-form-item",{key:r,attrs:{label:e.attr_name}},[a("el-input",{model:{value:e.attr_vals,callback:function(a){t.$set(e,"attr_vals",a)},expression:"item.attr_vals"}})],1)})),1)],1),a("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.url,"on-preview":t.handlePreview,"on-remove":t.handleRemove,headers:t.resHeader,"file-list":t.fileList,"on-success":t.updatesucc,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],1),a("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[[a("div",[a("quill-editor",{staticStyle:{height:"300px"},attrs:{options:t.editorOption},on:{change:function(e){return t.onEditorChange()}},model:{value:t.goodsForm.goods_introduce,callback:function(e){t.$set(t.goodsForm,"goods_introduce",e)},expression:"goodsForm.goods_introduce"}})],1)],a("el-button",{staticStyle:{"margin-top":"100px"},attrs:{type:"primary",round:""},on:{click:t.addGoodsInfo}},[t._v("添加商品")])],2)],1)]],2)],1)},n=[],o=a("e7e7"),i=a("4833"),s=(a("1e1b"),a("dd8d"),a("6dbb"),a("e116"),a("5cb1"),a("7f0d"),a("a573"),a("6a61"),a("18d9")),l={name:"",data:function(){return{active:"0",goodsForm:{goods_name:"",goods_price:"",goods_number:"",goods_weight:"",goods_cat:"",pics:[],attrs:[],goods_introduce:""},goodsId:"",options:[],value:[],setOptions:{label:"cat_name",value:"cat_id"},rules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"},{pattern:/^\d+$/,message:"价格只能是数字",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品数量",trigger:"blur"},{pattern:/^\d+$/,message:"数量只能是数字",trigger:"blur"}],goods_weight:[{required:!0,message:"请输入商品数量",trigger:"blur"},{pattern:/^\d+$/,message:"数量只能是数字",trigger:"blur"}]},url:"http://192.168.68.23:8080/api/private/v1/upload",resHeader:{Authorization:localStorage.getItem("token")},fileList:[],manyTable:[],onlyTable:[],editorOption:{placeholder:"编辑文章内容"}}},created:function(){this.getLian()},methods:{getLian:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/categories/");case 2:a=e.sent,t.options=a.data.data;case 4:case"end":return e.stop()}}),e)})))()},change:function(){this.cascaderVal?(this.$message({message:"只能选择三级商品分类！",type:"warning"}),this.value=[]):this.goodsId=this.value[this.value.length-1]},leaveTab:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0===t){a.next=3;break}if(!e.cascaderVal){a.next=3;break}return a.abrupt("return",new Promise);case 3:if("1"!==t){a.next=11;break}return a.next=6,e.axios.get("/categories/".concat(e.value[e.value.length-1],"/attributes"),{params:{sel:"many"}});case 6:r=a.sent,r.data.data.forEach((function(t){t.attr_vals=t.attr_vals.split(",")})),e.manyTable=r.data.data,a.next=16;break;case 11:if("2"!==t){a.next=16;break}return a.next=14,e.axios.get("/categories/".concat(e.value[e.value.length-1],"/attributes"),{params:{sel:"only"}});case 14:n=a.sent,e.onlyTable=n.data.data;case 16:case"end":return a.stop()}}),a)})))()},handleRemove:function(t,e){},handlePreview:function(t){},updatesucc:function(t,e,a){this.goodsForm.pics.push(t.data.tmp_path)},onEditorChange:function(t){t.quill,t.html,t.text},addGoodsInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.goodsForm.goods_cat=t.value.join(","),a=t.manyTable.map((function(t){return{attr_id:t.attr_id,attr_value:t.attr_vals.join(",")}})),r=t.onlyTable.map((function(t){return{attr_id:t.attr_id,attr_value:t.attr_vals}})),t.goodsForm.attrs=[].concat(Object(o["a"])(a),Object(o["a"])(r)),e.next=6,t.axios.post("/goods",t.goodsForm);case 6:n=e.sent,201===n.data.meta.status&&t.$message({message:n.data.meta.msg,type:"success"}),t.$router.push("/goods");case 9:case"end":return e.stop()}}),e)})))()}},computed:{cascaderVal:function(){return 3!==this.value.length}},components:{quillEditor:s["quillEditor"]}},c=l,u=(a("6dc8"),a("4ac2")),d=Object(u["a"])(c,r,n,!1,null,"fdce8194",null);e["default"]=d.exports},"1b18":function(t,e,a){"use strict";var r=a("e1de"),n=a("0484"),o=a("749e"),i=a("5555"),s=a("ef03"),l=a("e4b3").f,c=a("a941"),u=o.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(f,u);var p=f.prototype=u.prototype;p.constructor=f;var m=p.toString,g="Symbol(test)"==String(u("test")),b=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=m.call(t);if(i(d,t))return"";var a=g?e.slice(7,-1):e.replace(b,"$1");return""===a?void 0:a}}),r({global:!0,forced:!0},{Symbol:f})}},"28b6":function(t,e,a){"use strict";a("d188")},"329d":function(t,e,a){"use strict";var r=a("8b6d"),n=a("67fe"),o=a("fb7a"),i=a("c79f"),s=a("512c"),l=a("ea64"),c=a("44cc");t.exports=function(t){var e,a,u,d,f,p,m=n(t),g="function"==typeof this?this:Array,b=arguments.length,v=b>1?arguments[1]:void 0,h=void 0!==v,y=c(m),_=0;if(h&&(v=r(v,b>2?arguments[2]:void 0,2)),void 0==y||g==Array&&i(y))for(e=s(m.length),a=new g(e);e>_;_++)p=h?v(m[_],_):m[_],l(a,_,p);else for(d=y.call(m),f=d.next,a=new g;!(u=f.call(d)).done;_++)p=h?o(d,v,[u.value,_],!0):u.value,l(a,_,p);return a.length=_,a}},"352e":function(t,e,a){"use strict";a("6d05")},"3aab":function(t,e,a){var r=a("ef03"),n=a("10ef"),o=a("655b"),i=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},"43c5":function(t,e,a){var r=a("ec76");r("iterator")},"58b2":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods_containner"},[a("bread",{attrs:{first:"商品管理",second:"商品列表"}}),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:t.params.query,callback:function(e){t.$set(t.params,"query",e)},expression:"params.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getGoods},slot:"append"})],1),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("添加商品")])],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"#",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.$index+1))])]}}])}),a("el-table-column",{attrs:{label:"商品名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.goods_name))])]}}])}),a("el-table-column",{attrs:{label:"商品价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.goods_price))])]}}])}),a("el-table-column",{attrs:{label:"商品重量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.goods_weight))])]}}])}),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t._f("format")(e.row.add_time)))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",aa:t.row,size:"mini"}}),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"}})]}}])})],1)],a("el-pagination",{attrs:{"current-page":t.currentPage4,"page-sizes":[50,100,300,500],"page-size":t.params.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],2)],1)},n=[],o=a("4833"),i=(a("6a61"),{data:function(){return{tableData:[],total:0,params:{query:"",pagenum:1,pagesize:50},currentPage4:1}},created:function(){this.getGoods()},methods:{getGoods:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/goods",{params:t.params});case 2:a=e.sent,t.total=a.data.data.total,t.tableData=a.data.data.goods;case 5:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.params.pagesize=t,this.getGoods()},handleCurrentChange:function(t){this.params.pagenum=t,this.getGoods()},addGoods:function(){this.$router.push("/goods/add")}}}),s=i,l=(a("28b6"),a("4ac2")),c=Object(l["a"])(s,r,n,!1,null,"233aa681",null);e["default"]=c.exports},"5cb1":function(t,e,a){"use strict";var r=a("e1de"),n=a("03a8"),o=a("25b6"),i=a("1790"),s=[].join,l=n!=Object,c=i("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},"61fa":function(t,e,a){},"66fa":function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"6d05":function(t,e,a){},"6dbb":function(t,e,a){"use strict";var r=a("e1de"),n=a("ddc4");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},"6dc8":function(t,e,a){"use strict";a("61fa")},"74e1":function(t,e,a){"use strict";var r=a("e1de"),n=a("b0cd"),o=a("eb95"),i=a("512c"),s=a("67fe"),l=a("eacf"),c=a("ea64"),u=a("7415"),d=u("splice"),f=Math.max,p=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var a,r,u,d,b,v,h=s(this),y=i(h.length),_=n(t,y),x=arguments.length;if(0===x?a=r=0:1===x?(a=0,r=y-_):(a=x-2,r=p(f(o(e),0),y-_)),y+a-r>m)throw TypeError(g);for(u=l(h,r),d=0;d<r;d++)b=_+d,b in h&&c(u,d,h[b]);if(u.length=r,a<r){for(d=_;d<y-r;d++)b=d+r,v=d+a,b in h?h[v]=h[b]:delete h[v];for(d=y;d>y-r+a;d--)delete h[d-1]}else if(a>r)for(d=y-r;d>_;d--)b=d+r-1,v=d+a-1,b in h?h[v]=h[b]:delete h[v];for(d=0;d<a;d++)h[d+_]=arguments[d+2];return h.length=y-r+a,u}})},"7f0d":function(t,e,a){"use strict";var r=a("e1de"),n=a("6ed5").map,o=a("7415"),i=o("map");r({target:"Array",proto:!0,forced:!i},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},8056:function(t,e,a){"use strict";var r=a("a299");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"83ad":function(t,e,a){"use strict";var r=a("e1de"),n=a("9144").trim,o=a("d63a");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return n(this)}})},9113:function(t,e,a){var r=a("0484"),n=a("e4b3").f,o=Function.prototype,i=o.toString,s=/^\s*function ([^ (]*)/,l="name";r&&!(l in o)&&n(o,l,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},9144:function(t,e,a){var r=a("b191"),n=a("66fa"),o="["+n+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),l=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(i,"")),2&t&&(a=a.replace(s,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"9e79":function(t,e,a){"use strict";var r=a("e1de"),n=a("ef03"),o=a("29ba"),i=a("b0cd"),s=a("512c"),l=a("25b6"),c=a("ea64"),u=a("655b"),d=a("7415"),f=d("slice"),p=u("species"),m=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var a,r,u,d=l(this),f=s(d.length),b=i(t,f),v=i(void 0===e?f:e,f);if(o(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?n(a)&&(a=a[p],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return m.call(d,b,v);for(r=new(void 0===a?Array:a)(g(v-b,0)),u=0;b<v;b++,u++)b in d&&c(r,u,d[b]);return r.length=u,r}})},a573:function(t,e,a){"use strict";var r=a("e1de"),n=a("a299"),o=a("29ba"),i=a("ef03"),s=a("67fe"),l=a("512c"),c=a("ea64"),u=a("eacf"),d=a("7415"),f=a("655b"),p=a("c1ad"),m=f("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",v=p>=51||!n((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),h=d("concat"),y=function(t){if(!i(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},_=!v||!h;r({target:"Array",proto:!0,forced:_},{concat:function(t){var e,a,r,n,o,i=s(this),d=u(i,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?i:arguments[e],y(o)){if(n=l(o.length),f+n>g)throw TypeError(b);for(a=0;a<n;a++,f++)a in o&&c(d,f,o[a])}else{if(f>=g)throw TypeError(b);c(d,f++,o)}return d.length=f,d}})},a652:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"params_container"},[a("bread",{attrs:{first:"商品管理",second:"参数列表"}}),a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"注意：只允许为第三级分类设置相关参数！",type:"warning","show-icon":"",effect:"dark"}}),a("el-cascader",{attrs:{options:t.options,props:t.setOptions,clearable:"",filterable:""},on:{change:t.choose},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.flag},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添加参数")]),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.manyData,border:""}},[a("el-table-column",{attrs:{width:"50",type:"expand",rules:t.rules},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.attr_vals,(function(r,n){return a("el-tag",{key:n,attrs:{"disable-transitions":!1,closable:""},on:{close:function(a){return t.handleClose(e.row,n)}}},[t._v(" "+t._s(r)+" ")])})),e.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",staticStyle:{width:"100px"},attrs:{size:"small"},on:{blur:function(a){return t.handleInputConfirm(e.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleInputConfirm(e.row)}},model:{value:e.row.inputValue,callback:function(a){t.$set(e.row,"inputValue",a)},expression:"scope.row.inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return t.showInput(e.row)}}},[t._v("+ New Tag")])]}}])}),a("el-table-column",{attrs:{label:"#",width:"50",type:"index"}}),a("el-table-column",{attrs:{label:"参数名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.attr_name))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return t.openEdit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.deleteParams(e.row)}}},[t._v("删除")])]}}])})],1)]],2),a("el-tab-pane",{attrs:{label:"静态属性",name:"only"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.flag},on:{click:function(e){t.dialogFormVisibleStatic=!0}}},[t._v("添加属性")]),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.onlyData,border:""}},[a("el-table-column",{attrs:{width:"50",type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.attr_vals,(function(r,n){return a("el-tag",{key:n,attrs:{"disable-transitions":!1,closable:""},on:{close:function(a){return t.handleClose(e.row,n)}}},[t._v(" "+t._s(r)+" ")])})),e.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",staticStyle:{width:"100px"},attrs:{size:"small"},on:{blur:function(a){return t.handleInputConfirm(e.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleInputConfirm(e.row)}},model:{value:e.row.inputValue,callback:function(a){t.$set(e.row,"inputValue",a)},expression:"scope.row.inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return t.showInput(e.row)}}},[t._v("+ New Tag")])]}}])}),a("el-table-column",{attrs:{label:"#",width:"50",type:"index"}}),a("el-table-column",{attrs:{label:"参数名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.attr_name))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180"}},[[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"}},[t._v("删除")])]],2)],1)]],2)],1)],1),a("el-dialog",{attrs:{title:"添加动态参数",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"动态参数","label-width":t.formLabelWidth,prop:"attr_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.attr_name,callback:function(e){t.$set(t.form,"attr_name",e)},expression:"form.attr_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addBtn("addForm")}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加静态属性",visible:t.dialogFormVisibleStatic},on:{"update:visible":function(e){t.dialogFormVisibleStatic=e}}},[a("el-form",{ref:"static_form",attrs:{model:t.static_form,rules:t.rules}},[a("el-form-item",{attrs:{label:"静态属性","label-width":t.formLabelWidth,prop:"static_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.static_form.static_name,callback:function(e){t.$set(t.static_form,"static_name",e)},expression:"static_form.static_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisibleStatic=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addBtn("static_form")}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改动态参数",visible:t.dialogFormVisibleDynamic},on:{"update:visible":function(e){t.dialogFormVisibleDynamic=e}}},[a("el-form",{ref:"dynamicForm",attrs:{model:t.dynamicForm,rules:t.rules}},[a("el-form-item",{attrs:{label:"动态参数","label-width":t.formLabelWidth,prop:"attr_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.dynamicForm.attr_name,callback:function(e){t.$set(t.dynamicForm,"attr_name",e)},expression:"dynamicForm.attr_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisibleDynamic=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmEdit}},[t._v("确 定")])],1)],1)],1)},n=[],o=a("e7e7"),i=a("4833"),s=(a("dd8d"),a("9438"),a("6dbb"),a("e116"),a("5cb1"),a("a573"),a("83ad"),a("74e1"),a("6a61"),{name:"",data:function(){return{options:[],value:[],setOptions:{label:"cat_name",value:"cat_id"},activeName:"many",manyData:[],onlyData:[],dialogFormVisible:!1,form:{attr_name:""},formLabelWidth:"120px",rules:{attr_name:[{required:!0,message:"请输入动态参数名称",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}],static_name:[{required:!0,message:"请输入静态属性名称",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}]},dialogFormVisibleStatic:!1,static_form:{static_name:""},dialogFormVisibleDynamic:!1,dynamicForm:{attr_name:"",id:"",attr_sel:"many"}}},created:function(){this.getData()},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/categories/");case 2:a=e.sent,t.options=a.data.data;case 4:case"end":return e.stop()}}),e)})))()},choose:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.flag){e.next=11;break}return e.next=3,t.axios.get("/categories/".concat(t.CateId,"/attributes"),{params:{sel:"only"}});case 3:return a=e.sent,t.disposeArr(a.data.data),t.onlyData=a.data.data,e.next=8,t.axios.get("categories/".concat(t.CateId,"/attributes"),{params:{sel:"many"}});case 8:r=e.sent,t.disposeArr(r.data.data),t.manyData=r.data.data;case 11:case"end":return e.stop()}}),e)})))()},disposeArr:function(t){return t.forEach((function(t){t.attr_vals=t.attr_vals.split(",").filter((function(t){return""!==t})),t.inputVisible=!1,t.inputValue=""})),t},showInput:function(t){var e=this;t.inputValue="",t.inputVisible=!0,this.$nextTick((function(){e.$refs.saveTagInput.focus()}))},handleInputConfirm:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r={attr_name:t.attr_name,attr_sel:e.activeName,attr_vals:[].concat(Object(o["a"])(t.attr_vals),[t.inputValue.trim()]).join(",")},""===t.inputValue.trim()){a.next=6;break}return a.next=4,e.axios.put("/categories/".concat(e.CateId,"/attributes/").concat(t.attr_id),r);case 4:n=a.sent,200===n.data.meta.status&&(e.$notify({title:"成功",message:n.data.meta.msg,type:"success"}),t.attr_vals.push(t.inputValue));case 6:t.inputVisible=!1;case 7:case"end":return a.stop()}}),a)})))()},handleClose:function(t,e){var a=this;this.$confirm("此操作将永久删除参数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.attr_vals.splice(e,1),n={attr_name:t.attr_name,attr_sel:a.activeName,attr_vals:t.attr_vals.join(",")},r.next=4,a.axios.put("categories/".concat(a.CateId,"/attributes/").concat(t.attr_id),n);case 4:o=r.sent,200===o.data.meta.status&&a.$notify({title:"成功",message:"删除成功!",type:"success"});case 6:case"end":return r.stop()}}),r)})))).catch()},addBtn:function(t){var e=this;this.form.attr_sel=this.activeName,this.$refs[t].validate(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(r){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=6;break}return a.next=3,e.axios.post("/categories/".concat(e.CateId,"/attributes"),e.form);case 3:n=a.sent,201===n.data.meta.status&&(e.choose(),e.$message({showClose:!0,message:n.data.meta.msg,type:"success"}),e.dialogFormVisible=!1),e.$refs[t].resetFields();case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},openEdit:function(t){this.dynamicForm.attr_name=t.attr_name,this.dynamicForm.id=t.attr_id,this.dialogFormVisibleDynamic=!0},confirmEdit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.put("/categories/".concat(t.CateId,"/attributes/").concat(t.dynamicForm.id),t.dynamicForm);case 2:a=e.sent,200===a.data.meta.status?(t.$message({message:a.data.meta.msg,type:"success"}),t.choose()):t.$message.error("修改失败!"),t.dialogFormVisibleDynamic=!1;case 5:case"end":return e.stop()}}),e)})))()},deleteParams:function(t){var e=this;this.$confirm("此操作将永久删除该参数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.axios.delete("/categories/".concat(e.CateId,"/attributes/").concat(t.attr_id));case 2:r=a.sent,200===r.data.meta.status&&(e.$message({type:"success",message:"删除成功!"}),e.choose());case 4:case"end":return a.stop()}}),a)})))).catch((function(){}))}},computed:{flag:function(){return 3!==this.value.length},CateId:function(){return this.value[this.value.length-1]}}}),l=s,c=(a("352e"),a("4ac2")),u=Object(c["a"])(l,r,n,!1,null,"75f8f613",null);e["default"]=u.exports},acaa:function(t,e,a){"use strict";var r=a("20be").charAt;t.exports=function(t,e,a){return e+(a?r(t,e).length:1)}},d188:function(t,e,a){},d411:function(t,e,a){"use strict";var r=a("719e");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d63a:function(t,e,a){var r=a("a299"),n=a("66fa"),o="​᠎";t.exports=function(t){return r((function(){return!!n[t]()||o[t]()!=o||n[t].name!==t}))}},ddc4:function(t,e,a){"use strict";var r=a("d411"),n=a("8056"),o=a("e4af"),i=RegExp.prototype.exec,s=o("native-string-replace",String.prototype.replace),l=i,c=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=n.UNSUPPORTED_Y||n.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],f=c||d||u;f&&(l=function(t){var e,a,n,o,l=this,f=u&&l.sticky,p=r.call(l),m=l.source,g=0,b=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),b=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(m="(?: "+m+")",b=" "+b,g++),a=new RegExp("^(?:"+m+")",p)),d&&(a=new RegExp("^"+m+"$(?!\\s)",p)),c&&(e=l.lastIndex),n=i.call(f?a:l,b),f?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=l.lastIndex,l.lastIndex+=n[0].length):l.lastIndex=0:c&&n&&(l.lastIndex=l.global?n.index+n[0].length:e),d&&n&&n.length>1&&s.call(n[0],a,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=l},e116:function(t,e,a){"use strict";var r=a("0ef9"),n=a("3aab"),o=a("719e"),i=a("b191"),s=a("9d19"),l=a("acaa"),c=a("512c"),u=a("f1ae"),d=a("ddc4"),f=a("8056"),p=f.UNSUPPORTED_Y,m=[].push,g=Math.min,b=4294967295;r("split",2,(function(t,e,a){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var r=String(i(this)),o=void 0===a?b:a>>>0;if(0===o)return[];if(void 0===t)return[r];if(!n(t))return e.call(r,t,o);var s,l,c,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,f+"g");while(s=d.call(g,r)){if(l=g.lastIndex,l>p&&(u.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&m.apply(u,s.slice(1)),c=s[0].length,p=l,u.length>=o))break;g.lastIndex===s.index&&g.lastIndex++}return p===r.length?!c&&g.test("")||u.push(""):u.push(r.slice(p)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var n=i(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,n,a):r.call(String(n),e,a)},function(t,n){var i=a(r,t,this,n,r!==e);if(i.done)return i.value;var d=o(t),f=String(this),m=s(d,RegExp),v=d.unicode,h=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"g":"y"),y=new m(p?"^(?:"+d.source+")":d,h),_=void 0===n?b:n>>>0;if(0===_)return[];if(0===f.length)return null===u(y,f)?[f]:[];var x=0,w=0,k=[];while(w<f.length){y.lastIndex=p?0:w;var S,F=u(y,p?f.slice(w):f);if(null===F||(S=g(c(y.lastIndex+(p?w:0)),f.length))===x)w=l(f,w,v);else{if(k.push(f.slice(x,w)),k.length===_)return k;for(var C=1;C<=F.length-1;C++)if(k.push(F[C]),k.length===_)return k;w=x=S}}return k.push(f.slice(x)),k}]}),p)},e7e7:function(t,e,a){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function n(t){if(Array.isArray(t))return r(t)}a.d(e,"a",(function(){return l}));a("7869"),a("1b18"),a("1e1b"),a("43c5"),a("9ee9"),a("5611"),a("08fc");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}a("9e79"),a("9113");function i(t,e){if(t){if("string"===typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return n(t)||o(t)||i(t)||s()}},f1ae:function(t,e,a){var r=a("10ef"),n=a("ddc4");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var o=a.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},fb7a:function(t,e,a){var r=a("719e"),n=a("5a9e");t.exports=function(t,e,a,o){try{return o?e(r(a)[0],a[1]):e(a)}catch(i){throw n(t),i}}}}]);
//# sourceMappingURL=goods.5b5075a9.js.map